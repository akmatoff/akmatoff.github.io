---
import { Icon } from "astro-icon/components";
import { clsx } from "clsx";
import SocialLinks from "./SocialLinks.astro";
export const navbarItems = [
  {
    label: "Home",
    link: "/",
    icon: "ri:home-2-fill",
  },
  {
    label: "About",
    link: "/about",
    icon: "ri:user-3-fill",
  },
  {
    label: "Notes",
    link: "/notes",
    icon: "ri:file-list-3-fill",
  },
  {
    label: "Projects",
    link: "/projects",
    icon: "ri:code-s-slash-fill",
  },
];

const { pathname } = Astro.url;

const isActive = (path: string) =>
  path === pathname || (path !== "/" && pathname.startsWith(path));
---

<aside class="flex flex-col h-full space-y-10 p-3 bg-content shadow-sm text-sm">
  <div class="ml-4">
    <h1 class="text-2xl/tight font-medium">Azim Akmatov</h1>
    <p class="text-muted-foreground text-sm">Frontend developer</p>
  </div>
  <nav class="flex flex-col space-y-2">
    {
      navbarItems.map((nav) => (
        <a
          class={clsx(
            "flex items-center text-sm space-x-4 px-4 py-1.5 rounded-md text-muted-foreground duration-300 transition-all hover:text-primary",
            isActive(nav.link) && "text-primary bg-muted"
          )}
          href={nav.link}
        >
          <Icon name={nav.icon} />

          <span>{nav.label}</span>
        </a>
      ))
    }
  </nav>

  <SocialLinks />
</aside>
